<div ng-app="myApp" ng-controller="AppCtrl" ng-cloak>
  <div class="md-toolbar-tools">
    <h1 flex md-truncate class="logo" layout="row" layout-wrap layout-align="center center">
      <span>^page_title</span>
    </h1>
  </div>
  <form id="question-form" name="questionForm" novalidate ng-submit="postQuestion($event);" ng-show="showForm">
  <md-content class="" layout layout-align="center">
    <div layout="column" md-colors="{background: 'grey-A100'}"
      class="layout-padding layout-margin" style="max-height:none">

      <h2 class="md-display-1">^head
      </h2>
      <p>
          ^message
      </p>

      <div id="inspect_date" md-no-float
        ng-class="{formerror: questionForm.inspect_date.$error.required && questionForm.$submitted}">
        <h3 class="md-headline" flex>
          ^inspect_date
          <span class="md-title" md-colors="{color: 'red-700'}">^required</span>
        </h3>
        <md-input-container>
        <label>内検日</label>
        <md-datepicker name="inspect_date" ng-model="question.inspect_date" 
        required></md-datepicker>
        </md-input-container>
      </div>

      <div id="inspect_time" md-no-float
        ng-class="{formerror: questionForm.inspect_time.$error.required && questionForm.$submitted}">
        <h3 class="md-headline" flex>^inspect_time
          <span class="md-title" md-colors="{color: 'red-700'}">^required</span>
        </h3>

        <md-input-container class="md-block">
          <label>^label_inspect_time</label>
          <input name="inspect_time" ng-model="question.inspect_time" required>
          <div ng-messages="questionForm.inspect_time.$error" ng-show="questionForm.$submitted">
            <span ng-message="required" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">^error_required</span>
          </div>
        </md-input-container>
      </div>

      <div id="temp_weather" md-no-float
        ng-class="{formerror: questionForm.temp_weather.$error.required && questionForm.$submitted}">
        <h3 class="md-headline" flex>^temp_weather
          <span class="md-title" md-colors="{color: 'red-700'}">^required</span>
        </h3>

        <md-input-container class="md-block">
          <label>^label_temp_weather</label>
          <input name="temp_weather" ng-model="question.temp_weather" required>
          <div ng-messages="questionForm.temp_weather.$error" ng-show="questionForm.$submitted">
            <span ng-message="required" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">^error_required</span>
          </div>
        </md-input-container>
      </div>

      <div id="when_breed" md-no-float
        ng-class="{formerror: (questionForm.when_breed.$error.required || questionForm.when_breed.$error.minlength || questionForm.when_breed.$error['md-maxlength']) && questionForm.$submitted}">
        <h3 class="md-headline" flex>^when_breed
          <span class="md-title" md-colors="{color: 'red-700'}">^required</span>
        </h3>

        <md-input-container class="md-block">
          <label>
            ^label_when_breed
          </label>
          <textarea class="wrap-border" name="when_breed"
            ng-class="{error: questionForm.when_breed.$error}"
            ng-model="question.when_breed"
            required
            minlength="50"
            md-maxlength="600"
            placeholder="^ph_when_breed" rows="5">
          </textarea>
          <div ng-messages="questionForm.when_breed.$error" ng-show="questionForm.$submitted">
            <span ng-message="required" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">^error_required</span>
            <span ng-message="minlength" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">^error_minlength</span>
            <span ng-message="md-maxlength" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">^error_maxlength</span>
          </div>
        </md-input-container>
      </div>

      <div id="enter_exit" ng-class="{formerror: questionForm.enter_exit.$error && questionForm.$submitted}">
        <h3 class="md-headline" flex>^enter_exit
          <span class="md-title" md-colors="{color: 'red-700'}">^required</span>
        </h3>
        <md-input-container flex="80" class="md-block">
          <label>^label_select</label>
          <md-select name="enter_exit" ng-model="question.enter_exit" required>
            <md-option value="^yes">^yes</md-option>
            <md-option value="^no">^no</md-option>
            <md-option value="^unkown">^unknown</md-option>
            <md-option value="^other">^other</md-option>
          </md-select>
        </md-input-container>
        <div class="required"
        ng-messages="questionForm.enter_exit.$error"
        ng-show="questionForm.$submitted" multiple
        md-auto-hide="false">
          <div ng-message="required" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">
            ^option_required
          </div>
        </div>
      </div>

      <div id="pollen" ng-class="{formerror: questionForm.pollen.$error && questionForm.$submitted}">
        <h3 class="md-headline" flex>^pollen
          <span class="md-title" md-colors="{color: 'red-700'}">^required</span>
        </h3>
        <md-input-container flex="80" class="md-block">
          <label>^label_select</label>
          <md-select name="pollen" ng-model="question.pollen" required>
            <md-option value="^yes">^yes</md-option>
            <md-option value="^no">^no</md-option>
            <md-option value="^unkown">^unknown</md-option>
            <md-option value="^other">^other</md-option>
          </md-select>
        </md-input-container>
        <div class="required"
        ng-messages="questionForm.pollen.$error"
        ng-show="questionForm.$submitted" multiple
        md-auto-hide="false">
          <div ng-message="required" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">
            ^option_required
          </div>
        </div>
      </div>

      <div id="hive_size" md-no-float
        ng-class="{formerror: questionForm.hive_size.$error.required && questionForm.$submitted}">
        <h3 class="md-headline" flex>^hive_size
          <span class="md-title" md-colors="{color: 'red-700'}">^required</span>
        </h3>

        <md-input-container class="md-block">
          <label>^label_hive_size</label>
          <input name="hive_size" ng-model="question.hive_size"
          required placeholder="^ph_hive_size">
          <div ng-messages="questionForm.hive_size.$error" ng-show="questionForm.$submitted">
            <span ng-message="required" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">^error_required</span>
          </div>
        </md-input-container>
      </div>

      <div id="growing" md-no-float
        ng-class="{formerror: questionForm.growing.$error.required && questionForm.$submitted}">
        <h3 class="md-headline" flex>^growing
          <span class="md-title" md-colors="{color: 'red-700'}">^required</span>
        </h3>

        <md-input-container class="md-block">
          <label>^label_growing</label>
          <input name="growing" ng-model="question.growing"
          required placeholder="^ph_growing">
          <div ng-messages="questionForm.growing.$error" ng-show="questionForm.$submitted">
            <span ng-message="required" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">^error_required</span>
          </div>
        </md-input-container>
      </div>

      <div id="scrap" ng-class="{formerror: questionForm.scrap.$error && questionForm.$submitted}">
        <h3 class="md-headline" flex>^scrap
          <span class="md-title" md-colors="{color: 'red-700'}">^required</span>
        </h3>
        <md-input-container flex="80" class="md-block">
          <label>^label_select</label>
          <md-select name="scrap" ng-model="question.scrap" required>
            <md-option value="^yes">^yes</md-option>
            <md-option value="^no">^no</md-option>
            <md-option value="^unkown">^unknown</md-option>
            <md-option value="^other">^other</md-option>
          </md-select>
        </md-input-container>
        <div class="required"
        ng-messages="questionForm.scrap.$error"
        ng-show="questionForm.$submitted" multiple
        md-auto-hide="false">
          <div ng-message="required" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">
            ^option_required
          </div>
        </div>
      </div>

      <div id="sumushi" ng-class="{formerror: questionForm.sumushi.$error && questionForm.$submitted}">
        <h3 class="md-headline" flex>^sumushi
          <span class="md-title" md-colors="{color: 'red-700'}">^required</span>
        </h3>
        <md-input-container flex="80" class="md-block">
          <label>^label_select</label>
          <md-select name="sumushi" ng-model="question.sumushi" required>
            <md-option value="^yes">^yes</md-option>
            <md-option value="^no">^no</md-option>
            <md-option value="^unkown">^unknown</md-option>
            <md-option value="^other">^other</md-option>
          </md-select>
        </md-input-container>
        <div class="required"
        ng-messages="questionForm.sumushi.$error"
        ng-show="questionForm.$submitted" multiple
        md-auto-hide="false">
          <div ng-message="required" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">
            ^option_required
          </div>
        </div>
      </div>

      <div id="discard" ng-class="{formerror: questionForm.discard.$error && questionForm.$submitted}">
        <h3 class="md-headline" flex>^discard
          <span class="md-title" md-colors="{color: 'red-700'}">^required</span>
        </h3>
        <md-input-container flex="80" class="md-block">
          <label>^label_select</label>
          <md-select name="discard" ng-model="question.discard" required>
            <md-option value="^yes">^yes</md-option>
            <md-option value="^no">^no</md-option>
            <md-option value="^unkown">^unknown</md-option>
            <md-option value="^other">^other</md-option>
          </md-select>
        </md-input-container>
        <div class="required"
        ng-messages="questionForm.discard.$error"
        ng-show="questionForm.$submitted" multiple
        md-auto-hide="false">
          <div ng-message="required" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">
            ^option_required
          </div>
        </div>
      </div>

      <div id="comment" md-no-float
        ng-class="{formerror: (questionForm.comment.$error.required || questionForm.comment.$error.minlength || questionForm.comment.$error['md-maxlength']) && questionForm.$submitted}">
        <h3 class="md-headline" flex>^comment
          <span class="md-title" md-colors="{color: 'red-700'}">^required</span>
          <br>
          <small class="md-subhead">^sub_comment</small>
        </h3>

        <md-input-container class="md-block">
          <textarea class="wrap-border" name="comment"
            ng-class="{error: questionForm.comment.$error}"
            ng-model="question.comment"
            required
            minlength="50"
            md-maxlength="600"
            placeholder="^comment_required" rows="5">
          </textarea>
          <div ng-messages="questionForm.comment.$error" ng-show="questionForm.$submitted">
            <span ng-message="required" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">^error_required</span>
            <span ng-message="minlength" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">^error_minlength</span>
            <span ng-message="md-maxlength" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">^error_maxlength</span>
          </div>
        </md-input-container>
      </div>

      <div id="images">
        <div layout-gt-xs="row" layout-align="start">
          <h3 class="md-headline" flex-gt-xs="60" style="margin-top:0">
            ^image ^optional
          <br>
          <small class="md-subhead">^image_subhead</small>
          </h3>
        </div>
        <div class="layout-padding wrap-border photo-upload" layout="row" layout-wrap layout-align="center center">
          <md-button ng-show="!question.image[0]"
            ngf-select="uploadFiles($file, 0, $invalidFiles)" 
            ngf-max-size="^file_max_size" 
            ngf-pattern="'.gif,.jpg,.ipeg,.png'"
            accept="image/*"
            flex="100" 
            class="md-raised md-primary text-size-110">
            <md-icon>file_upload</md-icon> ^add_image
          </md-button>
          <div flex-gt-xs="70" class="easy-ask-img">
            <img ng-show="question.image[0]" ngf-thumbnail="question.image[0]" class="thumb">
          </div>
          <md-button ng-show="question.image[0]" ng-click="question.image[0] = null" flex="100" class="md-raised text-size-110 delete-img">
              <md-icon>close</md-icon> ^delete_image 
          </md-button>
          <md-button ng-show="question.image[0] && !question.image[1]"
            ngf-select="uploadFiles($file, 1, $invalidFiles)" 
            ngf-max-size="^file_max_size" 
            ngf-pattern="'.gif,.jpg,.ipeg,.png'"
            accept="image/*"
            flex="100" 
            class="md-raised md-primary text-size-110">
            <md-icon>file_upload</md-icon> ^add_image
          </md-button>
          <div flex-gt-xs="70" class="easy-ask-img">
            <img ng-show="question.image[1]" ngf-thumbnail="question.image[1]" class="thumb">
          </div>
          <md-button ng-show="question.image[1]" ng-click="question.image[1] = null" flex="100" class="md-raised text-size-110 delete-img">
              <md-icon>close</md-icon> ^delete_image
          </md-button>
          <md-button ng-show="question.image[1] && !question.image[2]"
            ngf-select="uploadFiles($file, 2, $invalidFiles)" 
            ngf-max-size="^file_max_size" 
            ngf-pattern="'.gif,.jpg,.ipeg,.png'"
            accept="image/*"
            flex="100" 
            class="md-raised md-primary text-size-110">
            <md-icon>file_upload</md-icon> ^add_image
          </md-button>
          <div flex-gt-xs="70" class="easy-ask-img">
            <img ng-show="question.image[2]" ngf-thumbnail="question.image[2]" class="thumb">
          </div>
          <md-button ng-show="question.image[2]" ng-click="question.image[2] = null" flex="100" class="md-raised text-size-110 delete-img">
              <md-icon>close</md-icon> ^delete_image
          </md-button>
          <div layout="column" layout-align="center center"
            ng-show="progress" style="width:100%">
            <md-progress-circular class="md-accent" md-mode="indeterminate"></md-progress-circular>
          </div>
        </div>
        <div ng-messages="errFile.$errorMessages">
          <span ng-message="maxSize" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">
            ^file_max_size_error
          </span>
          <span ng-message="pattern" md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">
            ^file_type_error
          </span>
        </div>
        <div ng-show="uploadError">
          <span md-colors="{color: 'red-700'}" style="color: rgb(211, 47, 47);">
            {{ uploadError }}
          </span>
        </div>
      </div>

      <button type="submit" class="md-button md-raised md-primary text-size-110" ng-click="">^post
      </button>
    </div>
  </md-content>
  </form>

  <md-content layout layout-align="center" id="post-success" ng-show="postDone">
    <div layout="column" md-colors="{background: 'grey-A100'}" class="layout-padding layout-margin" style="max-height:none">
      <h2 class="md-display-1">
        ^post_complete
      </h2>
      <p>
        ^post_comp_msg
      </p>
      <md-button class="md-raised md-primary text-size-110" ng-click="openQuestion()">^check_button_label</md-button>
    </div>
  </md-content>
</div>
